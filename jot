#!/usr/bin/env perl

use strict;
use warnings;

my constant $temp_filename = "/tmp/jot-" . time();
my $editor = $ENV{EDITOR} || "vim";
system $editor => $temp_filename;

my $contents = `cat $temp_filename`;

my $contents_with_separator = $contents . "\f\n";

`mkdir -p ~/jot`;
`touch ~/jot/jot`;

open(my $fh, '>> :encoding(UTF-8)', '/home/kristoffer/jot/jot')
    or die "Error: couldnâ€™t open file.";
say $fh $contents_with_separator;
close $fh;

# TODO for future use:
#     git diff --unified=0 | tail -n +6 | perl -pe 's/^\+//'
